<html>
<head>
	<title>tetris</title>
	<script src="./tetris-app.js"></script>
</head>
<body>


	<canvas width="250" height="300"></canvas>
	<canvas width="250" height="400"></canvas>
	<canvas width="500" height="300"></canvas>
	<canvas width="250" height="300"></canvas>
	<canvas width="250" height="300"></canvas>
	<canvas width="250" height="300"></canvas>
	<canvas width="250" height="300"></canvas>


	<script>
		var canvases = [].slice.call(document.getElementsByTagName('canvas'));

		var gameModel = tetris.gameModelFactory({
		  rows: 20,
		  cols: 10,
		  // nextPieceQueue: 4,
		  squareModelFactory: tetris.squareModelFactory,
		  gamePieceFactory: tetris.pieceFactory
		});

		var gameViews = canvases.map(function (canvas) {
			return tetris.viewFactory({
				canvas: canvas,
				model: gameModel
			});
		});

		var controller = tetris.gameControllerFactory({
		  views: gameViews,
		  model: gameModel,
		  freezePieceAfter: 2
		});

		controller.start();
	</script>
</body>
</html>
